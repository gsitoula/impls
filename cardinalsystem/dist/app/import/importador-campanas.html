<div class="page page-form" ng-controller="importCampanaCtrl">

	<!-- <div class="panel panel-default" data-ng-controller="formConstraintsCtrl"> -->

    <section class="panel panel-default">
        <div class="panel-heading"><strong><span class="glyphicon glyphicon-th"></span> Importación Campañas</strong></div>
        
        <div class="panel-body">
            <div class="row">
                <div class="col-md-4" class="input-group">
                    <label for="">Cliente</label>
                    <!--<div class="input-group">-->
                    <input type="text" 
                    class="form-control"
                    data-ng-model="form.cliente"
                    uib-typeahead="cliente.NOM_COM for cliente in clientes_array | filter:$viewValue | limitTo:8"
                    typeahead-on-select="onSelectCliente($item, $model, $label)"
                    >
                    <!--</div>-->
                    <span></span>
                </div>
                <div class="col-md-4" class="input-group">
                    <label for="">Campaña</label>
                    <!--<div class="input-group">-->
                    <input type="text" 
                    class="form-control"
                    data-ng-model="form.campana"
                    uib-typeahead="campana.CAMPANA for campana in campanas_array | filter:$viewValue | limitTo:8"
                    typeahead-on-select="onSelectCampana($item, $model, $label)"
                    >
                    <!--</div>-->
                    <span></span>
                </div>
            </div>
        </div>

    </section>  

	<section class="panel panel-default">

		<div class="panel-heading"><strong><span class="glyphicon glyphicon-th"></span> Archivo a Importar</strong></div>
		<div class="panel-body">	
			<label class="btn btn-default btn-round" for="selectImport">Seleccionar Archivo</label>
			<input name="selectImport" id="selectImport" type="file" nv-file-select uploader="uploader" style="width:0.1px;height:0.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1;" /> 
			<ul>
            <li ng-repeat="item in uploader.queue">
                Nombre: <span ng-bind="item.file.name"></span><br/>
                <button class="btn btn-defult btn-round" ng-click="item.upload()">Importar</button>
            </li>
        	</ul> 
		</div>

	</section>

    <section class="panel panel-default">
        <div class="panel-heading"><strong><span class="glyphicon glyphicon-th"></span> Archivos Importados</strong></div>
        <div class="panel-body">
            <div class="container col-md-12">   
                <div class="row">
                    <table class="table table-bordered">
                        <thead class="thead-default">
                            <th>
                                Cliente 
                            </th>
                            <th> 
                                Campaña
                            </th>
                            <th> 
                                Archivo
                            </th>
                            <th> 
                                Acciones
                            </th>
                        </thead>
                        <tbody>
                            <tr ng-repeat="archivo in archivos track by $index">
                                <td>{{archivo.cliente}}</td>
                                <td>{{archivo.campana}}</td>
                                <td>{{archivo.archivo}}</td>
                                <td>
                                    <button class="btn btn-default btn-round" data-ng-class="[pickChosen == 1 ? 'btn-success' : 'btn-default'][$index]" ng-click="validarCabecera($index, archivo)">Validar Cabecera</button>
                                    <input type="checkbox" ng-model="check_head" hidden="true">    
                                    <button class="btn btn-default btn-round" data-ng-class="[import_ok == 1 ? 'btn-success' : 'btn-default']" ng-click="realizarImport(archivo)" ng-disabled="check_head">Realizar Importación</button>
                                </td>
                            </tr>
                        </tbody>    
                    </table>
                </div>
            </div> 
        </div>
    </section>

	<section class="panel panel-default">
    	<div class="panel-body">
    		<div class="row">
    			<div class="col-md-2">
    			</div>
    			<div class="col-md-10">
    				<div class="btn-toolbar pull-right">
    					<button type="button" class="btn btn-w-md btn-gap-v btn-round btn-primary" ng-click="returnVentas()">Volver a Ventas</button>
    				</div>
    			</div>
    		</div>
    	</div>
    </section>
</div>        